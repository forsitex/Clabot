<!DOCTYPE html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Betfair Bot - Flow Strategie</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      h1 {
        text-align: center;
        color: #667eea;
        margin-bottom: 10px;
        font-size: 2.5em;
      }

      .subtitle {
        text-align: center;
        color: #666;
        margin-bottom: 40px;
        font-size: 1.2em;
      }

      .flow-section {
        margin-bottom: 40px;
        padding: 30px;
        background: #f8f9fa;
        border-radius: 15px;
        border-left: 5px solid #667eea;
      }

      .flow-section h2 {
        color: #667eea;
        margin-bottom: 20px;
        font-size: 1.8em;
      }

      .step {
        background: white;
        padding: 20px;
        margin: 15px 0;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        position: relative;
        padding-left: 60px;
      }

      .step-number {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        width: 30px;
        height: 30px;
        background: #667eea;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }

      .step h3 {
        color: #333;
        margin-bottom: 10px;
        font-size: 1.3em;
      }

      .step p {
        color: #666;
        line-height: 1.6;
      }

      .example-box {
        background: #e3f2fd;
        padding: 20px;
        border-radius: 10px;
        margin: 15px 0;
        border-left: 4px solid #2196f3;
      }

      .example-box h4 {
        color: #1976d2;
        margin-bottom: 10px;
      }

      .formula {
        background: #fff3e0;
        padding: 15px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        margin: 10px 0;
        border-left: 4px solid #ff9800;
      }

      .result-win {
        background: #e8f5e9;
        padding: 15px;
        border-radius: 8px;
        border-left: 4px solid #4caf50;
        margin: 10px 0;
      }

      .result-lose {
        background: #ffebee;
        padding: 15px;
        border-radius: 8px;
        border-left: 4px solid #f44336;
        margin: 10px 0;
      }

      .timeline {
        position: relative;
        padding-left: 40px;
      }

      .timeline::before {
        content: "";
        position: absolute;
        left: 15px;
        top: 0;
        bottom: 0;
        width: 2px;
        background: #667eea;
      }

      .timeline-item {
        position: relative;
        margin-bottom: 30px;
      }

      .timeline-item::before {
        content: "";
        position: absolute;
        left: -32px;
        top: 5px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #667eea;
        border: 3px solid white;
        box-shadow: 0 0 0 2px #667eea;
      }

      .timeline-date {
        font-weight: bold;
        color: #667eea;
        margin-bottom: 5px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }

      th,
      td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }

      th {
        background: #667eea;
        color: white;
      }

      tr:hover {
        background: #f5f5f5;
      }

      .badge {
        display: inline-block;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.9em;
        font-weight: bold;
      }

      .badge-success {
        background: #4caf50;
        color: white;
      }

      .badge-danger {
        background: #f44336;
        color: white;
      }

      .badge-info {
        background: #2196f3;
        color: white;
      }

      @media (max-width: 768px) {
        .container {
          padding: 20px;
        }

        h1 {
          font-size: 1.8em;
        }

        .flow-section {
          padding: 20px;
        }

        .step {
          padding-left: 50px;
        }

        table {
          font-size: 0.9em;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üéØ Betfair Bot - Strategie Martingale</h1>
      <p class="subtitle">
        Flow complet: Plasare pariuri ‚Üí Verificare rezultate ‚Üí Progresie
      </p>

      <!-- FLOW PRINCIPAL -->
      <div class="flow-section">
        <h2>üìã Flow Principal</h2>

        <div class="step">
          <div class="step-number">1</div>
          <h3>Bot ruleazƒÉ la ora setatƒÉ (ex: 13:00)</h3>
          <p>Scheduler automat porne»ôte execu»õia zilnicƒÉ</p>
        </div>

        <div class="step">
          <div class="step-number">2</div>
          <h3>Cite»ôte echipele active din Google Sheets</h3>
          <p>IdentificƒÉ toate echipele cu status "ACTIVE"</p>
        </div>

        <div class="step">
          <div class="step-number">3</div>
          <h3>Pentru fiecare echipƒÉ: GƒÉse»ôte meciuri ASTƒÇZI</h3>
          <p>FiltreazƒÉ meciurile programate pentru data curentƒÉ</p>
        </div>

        <div class="step">
          <div class="step-number">4</div>
          <h3>Cite»ôte progresie actualƒÉ (row 2)</h3>
          <p>Pierdere CumulatƒÉ, Pas, Ultima MizƒÉ</p>
        </div>

        <div class="step">
          <div class="step-number">5</div>
          <h3>CalculeazƒÉ mizƒÉ cu formula Martingale</h3>
          <div class="formula">
            stake = (cumulative_loss / (odds - 1)) + initial_stake
          </div>
        </div>

        <div class="step">
          <div class="step-number">6</div>
          <h3>PlaseazƒÉ pariu pe Betfair</h3>
          <p>GƒÉse»ôte meciul, market, selection ‚Üí Place bet</p>
        </div>

        <div class="step">
          <div class="step-number">7</div>
          <h3>SalveazƒÉ √Æn Google Sheets</h3>
          <p>Status: PENDING, Bet ID, MizƒÉ, CotƒÉ</p>
        </div>
      </div>

      <!-- VERIFICARE REZULTATE -->
      <div class="flow-section">
        <h2>üîç Verificare Rezultate (la fiecare 30 min)</h2>

        <div class="step">
          <div class="step-number">1</div>
          <h3>Cite»ôte pariuri PENDING din Google Sheets</h3>
          <p>Toate pariurile cu Status = "PENDING"</p>
        </div>

        <div class="step">
          <div class="step-number">2</div>
          <h3>VerificƒÉ pe Betfair (listClearedOrders)</h3>
          <p>Ob»õine lista pariurilor finalizate (settled)</p>
        </div>

        <div class="step">
          <div class="step-number">3</div>
          <h3>Match Bet ID</h3>
          <p>ComparƒÉ Bet ID din Sheets cu Betfair</p>
        </div>

        <div class="step">
          <div class="step-number">4</div>
          <h3>DacƒÉ profit > 0 ‚Üí WIN</h3>
          <div class="result-win">
            <strong>‚úÖ WIN:</strong><br />
            ‚Ä¢ Status ‚Üí WON<br />
            ‚Ä¢ Profit ‚Üí calculat<br />
            ‚Ä¢ Pierdere CumulatƒÉ ‚Üí 0<br />
            ‚Ä¢ Pas ‚Üí 0
          </div>
        </div>

        <div class="step">
          <div class="step-number">5</div>
          <h3>DacƒÉ profit ‚â§ 0 ‚Üí LOSE</h3>
          <div class="result-lose">
            <strong>‚ùå LOSE:</strong><br />
            ‚Ä¢ Status ‚Üí LOST<br />
            ‚Ä¢ Profit ‚Üí -mizƒÉ<br />
            ‚Ä¢ Pierdere CumulatƒÉ ‚Üí += mizƒÉ<br />
            ‚Ä¢ Pas ‚Üí += 1
          </div>
        </div>
      </div>

      <!-- EXEMPLU REAL MADRID -->
      <div class="flow-section">
        <h2>‚öΩ Exemplu: Real Madrid (2 meciuri)</h2>

        <div class="timeline">
          <div class="timeline-item">
            <div class="timeline-date">Vineri 29 Nov - 13:00</div>
            <div class="example-box">
              <h4>Bot ruleazƒÉ</h4>
              <p><strong>Meci:</strong> Real Madrid vs Barcelona @ 1.9</p>
              <p><strong>Progresie:</strong> Loss=0, Pas=0</p>
              <div class="formula">stake = (0 / (1.9 - 1)) + 5 = 5 RON</div>
              <p><span class="badge badge-info">Pariu plasat: 5 RON</span></p>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-date">Vineri 29 Nov - 15:30</div>
            <div class="result-lose">
              <h4>Rezultat: LOSE ‚ùå</h4>
              <p><strong>Profit:</strong> -5 RON</p>
              <p><strong>Actualizare:</strong></p>
              <ul>
                <li>Pierdere CumulatƒÉ: 0 ‚Üí 5</li>
                <li>Pas: 0 ‚Üí 1</li>
                <li>Status: LOST</li>
              </ul>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-date">Mar»õi 3 Dec - 13:00</div>
            <div class="example-box">
              <h4>Bot ruleazƒÉ DIN NOU</h4>
              <p><strong>Meci:</strong> Real Madrid vs Atletico @ 1.8</p>
              <p><strong>Progresie ACTUALIZATƒÇ:</strong> Loss=5, Pas=1</p>
              <div class="formula">stake = (5 / (1.8 - 1)) + 5 = 11.25 RON</div>
              <p>
                <span class="badge badge-info"
                  >Pariu plasat: 11.25 RON (PROGRESIE!)</span
                >
              </p>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-date">Mar»õi 3 Dec - 22:30</div>
            <div class="result-win">
              <h4>Rezultat: WIN ‚úÖ</h4>
              <p><strong>Profit:</strong> +9 RON (11.25 √ó 0.8)</p>
              <p><strong>Actualizare:</strong></p>
              <ul>
                <li>Pierdere CumulatƒÉ: 5 ‚Üí 0 (RESET)</li>
                <li>Pas: 1 ‚Üí 0 (RESET)</li>
                <li>Status: WON</li>
              </ul>
              <p>
                <strong>Bilan»õ total:</strong> -5 + 9 =
                <span class="badge badge-success">+4 RON</span>
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- TABEL PROGRESIE -->
      <div class="flow-section">
        <h2>üìä Tabel Progresie Martingale</h2>

        <table>
          <thead>
            <tr>
              <th>Pas</th>
              <th>CotƒÉ</th>
              <th>MizƒÉ</th>
              <th>Rezultat</th>
              <th>Cumulative Loss</th>
              <th>Calcul urmƒÉtoare mizƒÉ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>0</td>
              <td>1.9</td>
              <td>5 RON</td>
              <td><span class="badge badge-danger">LOSE</span></td>
              <td>5 RON</td>
              <td>(5 / (1.8-1)) + 5 = 11.25 RON</td>
            </tr>
            <tr>
              <td>1</td>
              <td>1.8</td>
              <td>11.25 RON</td>
              <td><span class="badge badge-danger">LOSE</span></td>
              <td>16.25 RON</td>
              <td>(16.25 / (2.0-1)) + 5 = 21.25 RON</td>
            </tr>
            <tr>
              <td>2</td>
              <td>2.0</td>
              <td>21.25 RON</td>
              <td><span class="badge badge-success">WIN</span></td>
              <td>0 RON</td>
              <td>Reset ‚Üí 5 RON</td>
            </tr>
          </tbody>
        </table>

        <div class="result-win">
          <h4>Bilan»õ final:</h4>
          <p><strong>Pierderi:</strong> -5 - 11.25 = -16.25 RON</p>
          <p><strong>C√¢»ôtig:</strong> +21.25 RON</p>
          <p>
            <strong>Net:</strong>
            <span class="badge badge-success">+5 RON</span> (miza ini»õialƒÉ
            recuperatƒÉ!)
          </p>
        </div>
      </div>

      <!-- FORMULA -->
      <div class="flow-section">
        <h2>üßÆ Formula Martingale</h2>

        <div class="formula">
          stake = (cumulative_loss / (odds - 1)) + initial_stake
        </div>

        <div class="example-box">
          <h4>Unde:</h4>
          <ul style="line-height: 2">
            <li>
              <strong>cumulative_loss</strong> = suma tuturor mizelor pierdute
            </li>
            <li><strong>odds</strong> = cota pentru urmƒÉtorul meci</li>
            <li><strong>initial_stake</strong> = miza ini»õialƒÉ (5 RON)</li>
          </ul>
        </div>

        <div class="example-box">
          <h4>Logica:</h4>
          <p>
            Formula asigurƒÉ cƒÉ la primul WIN recuperezi TOATE pierderile +
            c√¢»ôtigi miza ini»õialƒÉ (5 RON profit).
          </p>
        </div>
      </div>

      <!-- CONCLUZIE -->
      <div class="flow-section">
        <h2>‚úÖ Concluzie</h2>

        <div class="step">
          <div class="step-number">‚úì</div>
          <h3>O echipƒÉ = 1 meci/zi (maxim)</h3>
          <p>Nu existƒÉ 2 meciuri √Æn aceea»ôi zi pentru aceea»ôi echipƒÉ</p>
        </div>

        <div class="step">
          <div class="step-number">‚úì</div>
          <h3>Progresie func»õioneazƒÉ PERFECT √Æntre meciuri</h3>
          <p>Bot cite»ôte progresie actualizatƒÉ la fiecare rulare</p>
        </div>

        <div class="step">
          <div class="step-number">‚úì</div>
          <h3>Verificare automatƒÉ la 30 min</h3>
          <p>ActualizeazƒÉ status »ôi progresie automat</p>
        </div>

        <div class="step">
          <div class="step-number">‚úì</div>
          <h3>Formula Martingale corectƒÉ</h3>
          <p>RecupereazƒÉ toate pierderile + profit la WIN</p>
        </div>
      </div>
    </div>
  </body>
</html>
